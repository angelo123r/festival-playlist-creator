<!-- festivalPlaylistApp/templates/pages/festival_artists.html -->

{% extends "base.html" %} {% load static %} {% block page_content %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <link rel="stylesheet" href="{% static 'style.css'%}" />
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.purple.min.css"
    />
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
      :root {
        --pico-border-radius: 2rem;
        --pico-typography-spacing-vertical: 1.5rem;
        --pico-form-element-spacing-vertical: 1rem;
        --pico-form-element-spacing-horizontal: 1.25rem;
      }
      h1 {
        --pico-font-family: "Raleway", sans-serif;
        --pico-font-weight: 100;
        --pico-typography-spacing-vertical: 0.5rem;
        --pico-font-size: 2.5rem;
      }
      h2 {
        --pico-font-family: "Raleway", sans-serif;
        --pico-font-weight: 100;
      }
    </style>
    <title>{{ festival.name }} Artists</title>
  </head>


  <style>
    .artist-checkboxes {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .artist-checkboxes div {
      margin-bottom: 10px;
      margin-right: 10px;
      margin-left: 20px;
    }
    input[type="submit"] {
      background-color: green;
    }
    
    #selectAll, input[type="submit"] {
      width: 120px;
      height: 70px;
    }

  </style>
  <body>
    <h2>Artists</h2>
    <div class="selectFest">
        <fieldset>
            <form id="artistForm" method="POST" action="{% url 'selected_artists' festival_id=festival.id %}">
              {% csrf_token %}
              <input type="hidden" id="festivalId" value="{{ festival.id }}">
              <div class="artist-checkboxes">
                {% for artist in artists %}
                    <div>
                    <input type="checkbox" name="artists" value="{{ artist.artist.id }}" id="artist{{ artist.artist.id }}">
                    <label for="artist{{ artist.artist.id }}">{{ artist.artist.name }}</label>
                    </div>
                {% endfor %}
              </div>

              <div role="group" style="margin-top: 20px;">
                <input type="submit" />
                <button id="selectAll">Select All</button>
              </div>
            </form>
          </fieldset>

          <script>
            document.getElementById('selectAll').addEventListener('click', function(event) {
                // Prevent default form submission behavior
                event.preventDefault();
        
                var checkboxes = document.querySelectorAll('input[type="checkbox"][name="artists"]');
                var selectAllButton = document.getElementById('selectAll');
        
                var allChecked = true;
                checkboxes.forEach(function(checkbox) {
                    if (!checkbox.checked) {
                        allChecked = false;
                        checkbox.checked = true;
                    }
                });
        
                // Toggle the select all button text based on the current state
                if (allChecked) {
                    checkboxes.forEach(function(checkbox) {
                        checkbox.checked = false;
                    });
                    selectAllButton.textContent = "Select All";
                } else {
                    checkboxes.forEach(function(checkbox) {
                        checkbox.checked = true;
                    });
                    selectAllButton.textContent = "Deselect All";
                }
            });
        </script>
          
          
  </body>

</html>



{% endblock page_content %}
